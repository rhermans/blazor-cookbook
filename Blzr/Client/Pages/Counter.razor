@page "/counter"
@inherits Fluxor.Blazor.Web.Components.FluxorComponent
@using Fluxor
@using Blzr.Client.Store.Counter
@inject IState<Blzr.Client.Store.Counter.CounterState> counterState
@inject IDispatcher dispatcher

<MudGrid Class="mt-2">
    <MudItem xs="12" sm="12" md="12">
        <MudText Typo="Typo.h3">Counter</MudText>
        <MudText Typo="Typo.subtitle1">Current count: @currentCount</MudText>
    </MudItem>
    <MudItem xs="12" sm="12" md="12">
        <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="IncrementCount">Click me</MudButton>
    </MudItem>
</MudGrid>

@code {
    private int currentCount => counterState.Value.Count;

    private void IncrementCount()
    {
        dispatcher.Dispatch(new Blzr.Client.Store.Counter.AddCounter());
    }

}